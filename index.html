<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>farsi youcef</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  body {
    background: #0a1c3a;
    color: white;
    font-family: sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  .site-logo {
    font-family: "Arial Black", sans-serif;
    font-size: 65px;
    font-weight: bold;
    color: #3cfcb3;
    text-shadow: 0 0 8px rgba(255,0,0,0.8),0 0 16px rgba(255,0,0,0.6),0 0 24px rgba(255,0,0,0.4),2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7);
    margin: 20px 0;
    display: inline-block;
    padding: 12px 25px;
    background: rgba(0,60,50,0.25);
    border-radius: 20px;
    box-shadow: 0 6px 20px rgba(60,252,179,0.3);
    animation: glowPulse 6s infinite;
  }
  @keyframes glowPulse {
    0% { text-shadow: 0 0 12px red,0 0 24px red,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
    20% { text-shadow: 0 0 12px blue,0 0 24px blue,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
    40% { text-shadow: 0 0 12px green,0 0 24px green,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
    60% { text-shadow: 0 0 12px yellow,0 0 24px yellow,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
    80% { text-shadow: 0 0 12px magenta,0 0 24px magenta,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
    100% { text-shadow: 0 0 12px cyan,0 0 24px cyan,2px 2px 0 #004d40,4px 4px 6px rgba(0,0,0,0.7); }
  }
  .search-box { margin: 15px; }
  input { padding: 10px; border-radius: 10px; border: none; width: 70%; max-width: 250px; }
  button { padding: 10px 15px; border-radius: 10px; border: none; background: #3cfcb3; cursor: pointer; font-weight: bold; }
  button:hover { background: #2abf8b; }

  .video-card { background: #13274a; margin: 10px auto; padding: 10px; border-radius: 12px; width: 95%; max-width: 800px; position: relative; }
  iframe { border-radius: 10px; width: 100%; height: 400px; }
  @media (max-width:600px){ iframe{height:220px;} .site-logo{font-size:40px;padding:8px 16px;} }

  .logo-overlay { position:absolute; top:10px; right:10px; width:65px; height:65px; background:#0077ff; border-radius:50%; display:flex; justify-content:center; align-items:center; font-size:16px; font-weight:bold; color:white; font-family:"Arial Black",sans-serif; box-shadow:0 0 10px rgba(0,119,255,0.7); z-index:10; pointer-events:none; animation:spin 20s linear infinite; }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

  .controls { margin-top:10px; }
  .controls button, .controls select { margin:5px; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:bold; }
  .controls button { background:#3cfcb3; } .controls button:hover{background:#2abf8b;}
  #downloadBtn{background:#2ecc71;} #downloadBtn:hover{background:#27ae60;}

  .video-list { max-height:400px; overflow-y:auto; margin-top:15px; padding:10px; background:#0f1e3f; border-radius:12px; display:flex; flex-direction:column; gap:10px; }
  .video-list-item { display:flex; align-items:center; background:#1a2b4d; border-radius:8px; padding:5px; cursor:pointer; transition:all 0.2s; }
  .video-list-item.active { border:2px solid #ff4da6; box-shadow:0 0 12px rgba(255,77,166,0.6); }
  .video-list-item:hover{ border:2px solid #3cfcb3; box-shadow:0 0 10px rgba(60,252,179,0.5); }
  .video-list img{ width:120px; border-radius:6px; margin-left:10px; }
  .video-title{ font-size:14px; color:#ccc; text-align:right; flex:1; }
  .current-quality{ font-size:13px; color:#3cfcb3; margin-bottom:5px; }

  .no-results{ margin:20px; color:#ff4d4d; font-size:18px; font-weight:bold; text-shadow:0 0 6px #ff4d4d,0 0 12px #ff1a1a; animation:messageGlow 2s infinite alternate; }
  @keyframes messageGlow{0%{text-shadow:0 0 6px #ff4d4d,0 0 12px #ff1a1a;} 25%{text-shadow:0 0 6px #ffb84d,0 0 12px #ffaa1a;} 50%{text-shadow:0 0 6px #4dff4d,0 0 12px #1aff1a;} 75%{text-shadow:0 0 6px #4d4dff,0 0 12px #1a1aff;} 100%{text-shadow:0 0 6px #ff4dff,0 0 12px #ff1aff;} }

  .loading-container{ display:none; margin:15px; text-align:center; color:#3cfcb3; font-size:14px; }
  .loading-spinner{ border:4px solid #3cfcb3; border-top:4px solid transparent; border-radius:50%; width:30px; height:30px; margin:0 auto 8px; animation:spin 1s linear infinite; }

  #downloadOptions,#qualityDownloadOptions{ display:none; margin-top:8px; padding:8px; background:#1a2b4d; border-radius:8px; }
  #downloadOptions a,#qualityDownloadOptions button{ color:#3cfcb3; padding:5px; text-decoration:none; border-radius:6px; display:block; margin:3px 0; }
  #downloadOptions a:hover,#qualityDownloadOptions button:hover{ background:#2abf8b; color:white; }
</style>
</head>
<body>
<h1 class="site-logo">Farsi Youcef</h1>

<div class="search-box">
  <input type="text" id="search" placeholder="اكتب للبحث في الأفلام">
  <button onclick="startSearch()"><i class="fas fa-search"></i> بحث</button>
</div>

<div class="video-card" id="results">
  <div class="logo-overlay">Farsi</div>
  <iframe id="archiveFrame" src="about:blank" frameborder="0" allowfullscreen></iframe>
  <div id="currentQualityDisplay" class="current-quality">الجودة: تلقائي</div>
  <h3 id="videoTitle">فيديو</h3>
  <div class="controls">
    <button onclick="toggleFullscreen()"><i class="fas fa-expand"></i> تكبير</button>
    <select id="qualitySelect" onchange="changeQuality()">
      <option value="auto">⚡ تلقائي</option>
      <option value="360">360p</option>
      <option value="480">480p</option>
      <option value="720">720p</option>
    </select>
    <button id="downloadBtn" onclick="downloadVideo()"><i class="fas fa-download"></i> تحميل</button>
  </div>
  <div id="downloadOptions"></div>
  <div id="qualityDownloadOptions"></div>
</div>

<div class="video-list" id="videoList"></div>
<div class="loading-container" id="loading">
  <div class="loading-spinner"></div>
  <div>جارٍ التحميل...</div>
</div>

<script>
const state={currentPage:1,currentQuery:"",currentVideoId:"",currentQuality:"auto",loading:false};

async function fetchArchive(query,page=1){
  const url=`https://archive.org/advancedsearch.php?q=${encodeURIComponent(query)}+AND+mediatype:(movies)&fl[]=identifier&fl[]=title&sort[]=downloads+desc&rows=20&page=${page}&output=json`;
  const res=await fetch(url); const data=await res.json(); return data.response.docs;
}

async function startSearch(){
  state.currentPage=1;
  document.getElementById("videoList").innerHTML="";
  const val=document.getElementById("search").value.trim();
  if(!val) return;
  state.currentQuery=val;
  document.getElementById("loading").style.display="block";
  const docs=await fetchArchive(state.currentQuery,state.currentPage);
  document.getElementById("loading").style.display="none";
  showVideos(docs);
}

async function loadMore(){
  if(state.loading) return;
  state.loading=true;
  document.getElementById("loading").style.display="block";
  state.currentPage++;
  const docs=state.currentQuery?await fetchArchive(state.currentQuery,state.currentPage):await fetchArchive("mediatype:(movies)",state.currentPage);
  showVideos(docs); state.loading=false; document.getElementById("loading").style.display="none";
}

function showVideos(docs){
  const listDiv=document.getElementById("videoList");
  if(docs.length===0&&state.currentPage===1){ listDiv.innerHTML=`<div class="no-results">❌ لم يتم العثور على أي فيديوهات</div>`; return; }
  docs.forEach(doc=>{
    const div=document.createElement("div"); div.classList.add("video-list-item");
    div.onclick=()=>changeVideo(doc.identifier,doc.title,div);
    div.innerHTML=`<img src="https://archive.org/services/img/${doc.identifier}" alt="${doc.title}"><div class="video-title">${doc.title}</div>`;
    listDiv.appendChild(div);
  });
  if(state.currentPage===1&&docs.length>0){
    const first=listDiv.querySelector(".video-list-item");
    if(first) { first.classList.add("active"); changeVideo(docs[0].identifier,docs[0].title,first); }
  }
}

function changeVideo(id,title,element){
  state.currentVideoId=id;
  document.getElementById("videoTitle").innerText=title;
  document.getElementById("archiveFrame").src=`https://archive.org/embed/${id}${state.currentQuality!=="auto"?`?size=${state.currentQuality}`:""}`;
  document.getElementById("currentQualityDisplay").innerText="الجودة: "+(state.currentQuality==="auto"?"تلقائي":state.currentQuality+"p");
  document.querySelectorAll(".video-list-item").forEach(el=>el.classList.remove("active"));
  if(element) element.classList.add("active");
}

function updateVideo(){ if(!state.currentVideoId) return; document.getElementById("archiveFrame").src=`https://archive.org/embed/${state.currentVideoId}${state.currentQuality!=="auto"?`?size=${state.currentQuality}`:""}`; document.getElementById("currentQualityDisplay").innerText="الجودة: "+(state.currentQuality==="auto"?"تلقائي":state.currentQuality+"p"); }

function changeQuality(){ state.currentQuality=document.getElementById("qualitySelect").value; updateVideo(); }
async function loadDefaultVideos(){ document.getElementById("loading").style.display="block"; const docs=await fetchArchive("mediatype:(movies)",state.currentPage); document.getElementById("loading").style.display="none"; showVideos(docs); }
function toggleFullscreen(){ const frame=document.getElementById("archiveFrame"); if(frame.requestFullscreen) frame.requestFullscreen(); else if(frame.mozRequestFullScreen) frame.mozRequestFullScreen(); else if(frame.webkitRequestFullscreen) frame.webkitRequestFullscreen(); else if(frame.msRequestFullscreen) frame.msRequestFullscreen(); }

document.getElementById("videoList").addEventListener("scroll",async function(){ const list=this; if(list.scrollTop+list.clientHeight>=list.scrollHeight-50) await loadMore(); });

window.onload=loadDefaultVideos;
</script>
</body>
</html>
