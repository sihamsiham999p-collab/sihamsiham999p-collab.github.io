<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>farsi youcef</title>
  <style>
    body {
      background: #0a1c3a;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }
    .search-box {
      margin: 20px;
    }
    input {
      padding: 10px;
      border-radius: 10px;
      border: none;
      width: 200px;
    }
    button {
      padding: 10px 15px;
      border-radius: 10px;
      border: none;
      background: #3cfcb3;
      cursor: pointer;
    }
    .video-card {
      background: #13274a;
      margin: 15px auto;
      padding: 10px;
      border-radius: 12px;
      width: 90%;
      max-width: 800px;
      position: relative;
    }
    iframe {
      border-radius: 10px;
      width: 100%;
      height: 400px;
    }
    /* âœ… Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ø§Ù„Ù…ØªØ­Ø±Ùƒ */
    .logo-overlay {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 70px;
      height: 70px;
      background: #0077ff;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 18px;
      font-weight: bold;
      color: white;
      font-family: "Arial Black", sans-serif;
      box-shadow: 0 0 10px rgba(0, 119, 255, 0.7);
      z-index: 10;
      pointer-events: none;
      text-shadow: 
        1px 1px 0 #0044aa,
        2px 2px 0 #003377,
        3px 3px 5px rgba(0,0,0,0.6);
      animation: spin 20s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .controls {
      margin-top: 10px;
    }
    .controls button {
      margin: 5px;
    }
    .video-list {
      max-height: 400px;
      overflow-y: auto;
      margin-top: 15px;
      padding: 10px;
      background: #0f1e3f;
      border-radius: 12px;
    }
    .video-list div {
      margin: 10px 0;
      cursor: pointer;
      text-align: center;
    }
    .video-list img {
      width: 90%;
      max-width: 400px;
      border-radius: 8px;
      transition: transform 0.2s;
    }
    .video-list img:hover {
      transform: scale(1.05);
    }
    .video-title {
      font-size: 14px;
      margin-top: 5px;
      color: #ccc;
    }
    .load-more {
      margin: 15px;
    }
    .no-results {
      margin: 20px;
      color: #ff8080;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>farsi youcef</h1>

  <div class="search-box">
    <input type="text" id="search" placeholder="Ø§ÙƒØªØ¨ Ù„Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£ÙÙ„Ø§Ù…">
    <button onclick="startSearch()">Ø¨Ø­Ø«</button>
  </div>

  <!-- Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div class="video-card" id="results">
    <!-- âœ… Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ­Ø±Ùƒ -->
    <div class="logo-overlay">Farsi</div>

    <iframe id="archiveFrame" src="about:blank" frameborder="0" allowfullscreen></iframe>
    <h3 id="videoTitle">ÙÙŠØ¯ÙŠÙˆ</h3>
    <div class="controls">
      <button onclick="toggleFullscreen()">â›¶ ØªÙƒØ¨ÙŠØ±</button>
      <a id="downloadBtn" href="#" target="_blank">
        <button>â¬‡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
      </a>
      <button onclick="copyLink()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
    </div>
  </div>

  <!-- Ù‚Ø§Ø¦Ù…Ø© ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª -->
  <div class="video-list" id="videoList"></div>
  <div class="load-more">
    <button onclick="loadMore()">â¬‡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
  </div>

  <script>
    let currentPage = 1;
    let currentQuery = "";

    function startSearch() {
      currentPage = 1;
      document.getElementById("videoList").innerHTML = "";
      searchArchive();
    }

    async function searchArchive() {
      let query = document.getElementById("search").value;
      if (query.trim() === "") return;
      currentQuery = query;

      let url = `https://archive.org/advancedsearch.php?q=${encodeURIComponent(query)}+AND+mediatype:(movies)&fl[]=identifier&fl[]=title&sort[]=downloads+desc&rows=20&page=${currentPage}&output=json`;

      let response = await fetch(url);
      let data = await response.json();

      showVideos(data.response.docs);
    }

    function loadMore() {
      currentPage++;
      if (currentQuery) {
        searchArchive();
      } else {
        loadDefaultVideos();
      }
    }

    function showVideos(docs) {
      let listDiv = document.getElementById("videoList");

      if (docs.length === 0 && currentPage === 1) {
        listDiv.innerHTML = `<div class="no-results">âŒ Ù…Ø§ÙƒØ§Ù†Ø´ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>`;
        return;
      }

      docs.forEach(doc => {
        let thumb = `https://archive.org/services/img/${doc.identifier}`;
        let div = document.createElement("div");
        div.innerHTML = `
          <img src="${thumb}" alt="${doc.title}" onclick="changeVideo('${doc.identifier}','${doc.title}')">
          <div class="video-title">${doc.title}</div>
        `;
        listDiv.appendChild(div);
      });

      if (currentPage === 1 && docs.length > 0) {
        changeVideo(docs[0].identifier, docs[0].title);
      }
    }

    function changeVideo(id, title) {
      document.getElementById("archiveFrame").src = "https://archive.org/embed/" + id;
      document.getElementById("videoTitle").innerText = title;
      document.getElementById("downloadBtn").href = "https://archive.org/download/" + id;
      document.getElementById("downloadBtn").setAttribute("data-link", "https://archive.org/embed/" + id);

      document.getElementById("results").scrollIntoView({ behavior: "smooth" });
    }

    /* âœ… ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© */
    async function loadDefaultVideos() {
      let url = `https://archive.org/advancedsearch.php?q=mediatype:(movies)&fl[]=identifier&fl[]=title&sort[]=downloads+desc&rows=10&page=${currentPage}&output=json`;
      let response = await fetch(url);
      let data = await response.json();
      showVideos(data.response.docs);
    }

    /* âœ… Ø¥ØµÙ„Ø§Ø­ ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø© */
    function toggleFullscreen() {
      let frame = document.getElementById("archiveFrame");

      if (frame.requestFullscreen) {
        frame.requestFullscreen();
      } else if (frame.mozRequestFullScreen) { // Firefox
        frame.mozRequestFullScreen();
      } else if (frame.webkitRequestFullscreen) { // Chrome, Safari
        frame.webkitRequestFullscreen();
      } else if (frame.msRequestFullscreen) { // IE/Edge
        frame.msRequestFullscreen();
      }
    }

    function copyLink() {
      let link = document.getElementById("downloadBtn").getAttribute("data-link");
      if (!link) link = document.getElementById("archiveFrame").src;
      navigator.clipboard.writeText(link).then(() => {
        alert("âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ!");
      });
    }

    // â³ ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø£ÙˆÙ„ Ù…Ø§ ØªÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    window.onload = loadDefaultVideos;
  </script>
</body>
</html>
